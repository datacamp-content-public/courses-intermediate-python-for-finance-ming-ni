---
title: Insert title here
key: 7718ae639bc92371011fc96083a852c3

---
## For Loop with If Statement

```yaml
type: "TitleSlide"
key: "f103c4e425"
```

`@lower_third`

name: Ming Ni
title: Instructor


`@script`



---
## Imagine you are investing in Bond...

```yaml
type: "TwoColumns"
key: "3fae2f503d"
```

`@part1`
![Skills? Spying, Killing, Charming...](https://github.com/Jirehmountain/DataCamp/blob/master/james%20bond.jpg)


`@part2`
![OR plotting, manipulating, looping data](https://github.com/Jirehmountain/DataCamp/blob/master/corporate-bonds2-1-638.jpg)


`@script`
Imagine you want to invest in a corporate bond to hedge money for early retirement. You probably keep an eye on all the key data in a data frame, thinking that you've learned to plot, manipulate and filter data, and you know how to loop over a dataframe when you need it. But suddenly, the credit rating agencies downgraded your bond below investment grade. What would you do so that you could rest assured just as James Bond confidently fulfills his tasks? Let's first take a look at the data frame.


---
## For Loop over Data Frames

```yaml
type: "FullSlide"
key: "0bc9bafbc5"
```

`@part1`
```Input:
In[1]: df = pd.DataFrame({'Yield': [0.02, 0.04, 0.06, 0.08, 0.10],
                          'Price': [1539, 1324, 1147, 1000, 877],
                          'Rating':['AAA', 'AA', 'A', 'BBB', 'BB']})

In[2]: for lab, row in df.iterrows():
           print(lab)
           print(row)

In[3]: plt.plot(df['Yield'], df['Price'])```




```Output:
Out[1]: 
0
Yield            0.02
Price            1539
Credit Rating     AAA
Name: 0, dtype: object
...
4
Yield            0.1
Price            877
Credit Rating     BB
Name: 4, dtype: object```


`@script`
You are very familiar with looping over data frames by printing out row labels and row contents five times. Plot the yield and price columns from the data frame to examine their relationship.


---
## If credit rating is downgraded...

```yaml
type: "FullImageSlide"
key: "0d30071749"
```

`@part1`
![Price of a 8%, 10yrs to maturity corporate bond with face value($1000) for different semiannual yields:](https://github.com/Jirehmountain/DataCamp/blob/master/Bond%20price%20and%20yield.png)


`@script`
Downgrade of rating usually means higher probability of default. Some financial institutions have strict rules not to invest in bonds below investment grade. You definitely wouldn't look at the price associated with 'BB' either unless you are comfortable with higher risk of not getting due payment. You always buy low so your best hope is to purchase it at face value and wait for yield going below 8%. How would you construct an if statement to select BB from credit rating column? Python wouldn't be able to recognize that BB is lower in rating than AAA. Think about it!


---
## Adding If

```yaml
type: "TwoColumns"
key: "09d8ba4189"
```

`@part1`
- If/else is mutually exclusive

- Nothing gets between for and if/else

- Iterating column in the loop

- Adding new column in the loop

```Inputs:
In[2]: for lab, row in df.iterrows():  
           if row['Rating'] != 'BB':
               print(lab)
               print(row)
           else:
               df.loc[lab,'buy'] = 0

```


`@part2`
- If row['Rating'] != 'BB' 

- If row['Rating'] == 'BB'?

- 'BB' out, the loop prints four times

- Print df[['buy']]
```Outputs:
Out[1]: 
...
3                            
Yield     0.08                 
Price     1000             
Rating     BBB                
buy        NaN                
Name: 0, dtype: object   
```


`@script`
Recall you learned comparison operators that allows you to filter string from a column. Simply select


---
## Recap

```yaml
type: "FullSlide"
key: "b962122e87"
```

`@part1`
- For loop with if/else structure in mutually exclusive way

- Understand iteration of variables in for loop

- Print/Add new column/Plot in the loop

```Inputs:
In[2]: for lab, row in df.iterrows():  
           if row['Rating'] != 'BB':
               plt.plot(row['Yield'], row['Price'], 'ro')
               plt.axis([0, 0.10, 0, 1600])
               plt.show()
           else:
               df.loc[lab,'buy'] = 0

In[3]: plt.plot(df['Yield'], df['Price'])
```


`@script`
One final thing worthy to note is if you replace print with a plot of yield and price within the for loop. How many times would Python draw? What would it plot? Try it and you will find that Python literally is drawing like a human, one point at a time!


---
## For Loop with Plot

```yaml
type: "FullImageSlide"
key: "e9d3ee161d"
```

`@part1`
![One Red Dot at a time!](https://github.com/Jirehmountain/DataCamp/blob/master/Steps.png)


`@script`



---
## Let's For Loop with Your If/Else!

```yaml
type: "FinalSlide"
key: "1ebf44fec4"
```

`@script`


